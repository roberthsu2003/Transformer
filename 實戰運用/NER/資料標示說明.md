# 資料標示說明
在 **命名實體識別（NER, Named Entity Recognition）** 任務中，資料標示（annotation）是模型訓練與評估的重要步驟。這裡我會介紹 **NER 的標註格式**、**標註方式**、**標註規則**，並提供 **範例**。

**1. NER 資料標示格式**

NER 的資料通常使用 **BIO** 或 **IOB** 格式來標示每個 Token 的類別：

• **B-（Begin）**：表示該類別的實體開頭。

• **I-（Inside）**：表示該類別的實體內部。

• **O（Outside）**：表示不是任何實體的一部分。

**2. 標註方式**

NER 主要用於識別特定類型的詞語，例如：

• **人名（PERSON）**

• **地點（LOCATION）**

• **組織（ORGANIZATION）**

• **日期（DATE）**

• **數字（NUMBER）**

• **貨幣（MONEY）**

• **其他自定義類別**

**(1) BIO/IOB 格式**

這是最常見的標註方式，每個 Token 都有一個對應的標籤。

**範例**

假設我們有這句話：

**台北市是台灣的首都**

標註後的結果：

| **Token** | **標註** |
| --------- | ------ |
| 台北市       | B-LOC  |
| 是         | O      |
| 台灣        | B-LOC  |
| 的         | O      |
| 首都        | O      |

**說明**：

• **台北市** 是一個地名（LOCATION），所以第一個 Token 台北市 標註為 B-LOC。

• **台灣** 也是一個地名（LOCATION），標註為 B-LOC。

• 其他詞（如 是、的、首都）都不屬於任何命名實體，因此標註為 O。

**(2) IOB2 格式**

這是 IOB 格式的一種改良版：

• B- 用來標記每個實體的開始。

• I- 只用於同一個實體的後續部分。

**範例**

句子：

**Google 總部位於美國加州**

標註：

| **Token** | **標註** |
| --------- | ------ |
| Google    | B-ORG  |
| 總部        | I-ORG  |
| 位於        | O      |
| 美國        | B-LOC  |
| 加州        | I-LOC  |

**(3) IO（Inside-Outside）格式**

這種方式不使用 B-，所有實體的詞都標記為 I-，非實體詞仍標記為 O。

**範例**

| **Token** | **標註** |
| --------- | ------ |
| Google    | I-ORG  |
| 總部        | I-ORG  |
| 位於        | O      |
| 美國        | I-LOC  |
| 加州        | I-LOC  |

📌 缺**點：**如果連續的兩個相同類別的實體出現在一起，模型可能無法區分它們是否屬於同一個實體。

**(4) BILOU 格式**

• B- (Begin)：實體的開頭

• I- (Inside)：實體的內部

• L- (Last)：實體的最後一個詞

• U- (Unit)：單詞本身就是一個完整的實體

• O (Outside)：非實體

**範例**

| **Token** | **標註** |
| --------- | ------ |
| Google    | U-ORG  |
| 總部        | O      |
| 位於        | O      |
| 美國        | B-LOC  |
| 加州        | L-LOC  |

📌 優**勢：**相比 BIO 格式，BILOU 可以更清楚地標明單詞是否是單個獨立的實體。

**3. NER 標註規則**

在標註資料時，需要遵循一些規則，以確保一致性：


1. **命名實體應該是完整的詞組**

• ✅ **正確**：「台北市」 → B-LOC

• ❌ **錯誤**：「台北」、「市」 分開標記 → B-LOC I-LOC


1. **避免標記過多的詞**

• ✅ **正確**：「中華民國總統」 → B-TITLE I-TITLE

• ❌ **錯誤**：「中華民國」+「總統」 分開標記


1. **一致性**

• 不同標註員應該對相同的詞彙做出一致的標記，例如：

• 「美國政府」 → B-ORG I-ORG

• 不應標為 B-LOC I-LOC


1. **避免歧義**

• 例如，「Apple」可以是公司名（ORG）或水果（O），需要根據上下文來標記。

**4. 標註資料格式**

NER 資料通常存儲為 **CoNLL 格式**（一種標準的 NLP 標註格式），每行代表一個 Token，並附帶標註：

```other
台北市  B-LOC
是   O
台灣  B-LOC
的   O
首都  O
```


或者存儲為 JSON 形式：

```other
[
    {"token": "台北市", "tag": "B-LOC"},
    {"token": "是", "tag": "O"},
    {"token": "台灣", "tag": "B-LOC"},
    {"token": "的", "tag": "O"},
    {"token": "首都", "tag": "O"}
]
```


**5. 標註工具**

如果你要手動標註大量資料，可以使用以下工具：

• [Prodigy](https://prodi.gy/)（付費）

• [Doccano](https://github.com/doccano/doccano)（開源）

• [Brat](https://brat.nlplab.org/)（開源）

**6. 進一步閱讀**

• [CoNLL 2003 Dataset](https://www.clips.uantwerpen.be/conll2003/)（NER 標註的標準數據集）

• [spaCy NER 教程](https://spacy.io/usage/training#ner)

這就是 **NER 的資料標示說明**，希望對你有幫助！如果你有任何特定的 NER 應用需求，歡迎討論！🚀
